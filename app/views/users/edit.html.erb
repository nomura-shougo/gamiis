<% content_for :title, 'gamiis' %>
<% content_for :stylesheets do %>
<style>
  .user_icon {
    border-radius: 50%;
    /* 角丸半径を50%にする(=円形にする) */
    width: 200px;
    /* 縦横を同じ値にする */
    height: 200px;
    /* 縦横を同じ値にする */
    object-fit: cover;
    /* 縦横比固定したまま上2つの縦横の範囲内に収まるように配置する */
  }

</style>
<% end %>
<% content_for :content do %>
<div class="container">
  <div class="col-lg-6 offset-lg-3">
    <div class="d-flex justify-content-start my-2">
      <%= link_to '<<', user_path(@user), class: 'btn btn-outline-secondary' %>
    </div>
    <h4 class="mb-3">プロフィール変更</h4>
    <div class="row g-3">
      <%= form_for(@user) do |f| %>
      <% if @user.picture.present? %>
      <div class="d-flex justify-content-center my-2">
        <%= image_tag @user.picture.url, class: 'user_icon border border-light', width: '100%' %>
      </div>
      <% end %>
      <%= f.file_field :picture, class: 'form-control mb-2', type: 'file' %>
      <%= f.label :name, class: 'form-label' %>
      <%= f.text_field :name, value: @user.name, class: 'form-control' %>
      <hr class="my-2">
      <%= f.submit "変更する", class: "btn btn-primary" %>
      <% end %>
    </div>
  </div>
</div>
<% end %>
